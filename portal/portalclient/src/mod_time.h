#ifndef _H_MOD_TIME_
#define _H_MOD_TIME_

#include "define.h"
#include "events.h"

#define TM_TIME_FLAG_NUM 5

typedef union {

	U8 byte[TM_TIME_FLAG_NUM];
	struct {
		U8 time_10ms;
		U8 time_100ms;
		U8 time_200ms;
		U8 time_500ms;
		U8 time_1s;
		U8 time_10s;
	} Bits;
} time_flag;

typedef int timer_cb(void* para);

extern time_flag g_time_flag; //????Ӧ??ֻ?ܶ?ȡ??ֵ???????޸?

/*----------------------------- External Variables ---------------------------*/

/**
 * @brief ???? time_regist_timer ????????
 *
 * ע??????ʱ??.
 * @param
 *		timeout=1????ʾ????һ??100ms??ʱ??, ??ʱ????func????,?ûص?ѭ??????time_kill_timer?ɵ??ý?????ֹ????,para????????Ϊ?ص??????Ĳ??????д???
 * @return  ??ʱ??Ψһ??ʶID
 * @note
 *
*/
extern int time_regist_timer(U32 timeout, timer_cb* func,
							 void* para); //???ض?ʱ??Ψһ??ʶID, timeout=1????ʾ????һ??100ms??ʱ??, ??ʱ????func????,para????????Ϊ?ص??????Ĳ??????д???
extern void time_kill_timer(int id);

/**
 * @brief ???? time_regist_clock ????????
 *
 * ע??????ʱ??.
 * @param
 *		timeout=1????ʾ????һ??100ms??ʱ??, ??ʱ????func???????Զ??ͷ?,????;????time_kill_clock????????,para????????Ϊ?ص??????Ĳ??????д???
 * @return  ??ʱ??Ψһ??ʶID
 * @note
 *
*/
extern int time_regist_clock(U32 timeout, timer_cb* func,
							 void* para); //???ض?ʱ??Ψһ??ʶID, timeout=1????ʾ????һ??100ms??ʱ??, ??ʱ????func????,para????????Ϊ?ص??????Ĳ??????д???
extern void time_kill_clock(int id);

extern void time_mod_timer(void);
extern void time_init(void);
extern void time_unit(void);
extern void time_realtime(STREventElemType* buf, int size);
extern void time_clear(void);
#endif
